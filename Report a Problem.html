<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Report a Problem</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI',sans-serif}
body{
  min-height:100vh;
  background:#000;
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* BG */
#bg{
  position:fixed;
  inset:0;
  background:url("https://wallpapers.com/images/hd/street-crossing-aesthetic-anime-scenery-l83ai5pxcgb259mv.jpg") center/cover;
  z-index:-1;
  filter:blur(2px) brightness(.6);
}

/* CARD */
.report-card{
  width:92%;
  max-width:420px;
  background:rgba(0,0,0,.75);
  backdrop-filter:blur(10px);
  border-radius:20px;
  padding:18px;
  box-shadow:0 10px 30px rgba(0,0,0,.7);
}

/* HEADER */
.report-card h1{
  font-size:20px;
  margin-bottom:6px;
}
.report-card p{
  font-size:13px;
  color:#ccc;
  margin-bottom:14px;
}

/* INPUT */
.report-card input,
.report-card textarea{
  width:100%;
  background:#000;
  border:1px solid #333;
  border-radius:12px;
  color:#fff;
  padding:10px;
  margin-bottom:10px;
  font-size:14px;
}

.report-card textarea{
  min-height:110px;
  resize:none;
}

/* BUTTON */
.report-card button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:14px;
  background:#ff3b3b;
  color:#fff;
  font-size:15px;
  cursor:pointer;
}

/* BACK */
.back{
  margin-top:10px;
  text-align:center;
  font-size:13px;
  color:#aaa;
  cursor:pointer;
}
.back:hover{color:#fff}
</style>
</head>

<body>

<div id="bg"></div>

<div class="report-card">
  <h1>Report a Problem</h1>
  <p>‡πÅ‡∏à‡πâ‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>

  <input id="page" placeholder="‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏ô‡πâ‡∏≤ Anime / ‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà)">
  <textarea id="detail" placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö..."></textarea>
  <button onclick="sendReport()">‡∏™‡πà‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤</button>

  <div class="back" onclick="history.back()">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏î‡∏¥‡∏°</div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, push, set, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

/* FIREBASE CONFIG (‡πÉ‡∏ä‡πâ‡∏ä‡∏∏‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô) */
const firebaseConfig = {
  apiKey: "API_KEY",
  authDomain: "PROJECT.firebaseapp.com",
  databaseURL: "https://PROJECT.firebaseio.com",
  projectId: "PROJECT",
  appId: "APP_ID"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

/* SEND REPORT */
window.sendReport = async () => {
  const pageEl = document.getElementById("page");
  const detailEl = document.getElementById("detail");
  const btn = document.querySelector("button");

  const page =
    pageEl.value.trim() ||
    document.title ||
    location.pathname;

  const detail = detailEl.value.trim();

  if (!detail) {
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤");
    return;
  }

  btn.disabled = true;
  btn.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á...";

  try {
    const reportRef = push(ref(db, "reports"));
    await set(reportRef, {
      page,
      detail,
      time: new Date().toLocaleString(),
      ts: Date.now(),
      read: false
    });

    alert("‡∏™‡πà‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏±‡∏ö üôè");
    pageEl.value = "";
    detailEl.value = "";
  } catch (e) {
    alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà");
    console.error(e);
  }

  btn.disabled = false;
  btn.textContent = "‡∏™‡πà‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤";
};
</script>

</body>
</html>