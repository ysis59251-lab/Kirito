<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>DarkFrame</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  min-height:100vh;
  font-family:sans-serif;
  background:
    url("https://img.freepik.com/free-photo/anime-night-sky-illustration_23-2151684372.jpg")
    center / cover no-repeat fixed;
}

.title{
  background:#fff;
  color:#000;
  padding:12px 16px;
  border-radius:12px;
  margin:12px;
  font-size:18px;
  font-weight:700;
}

.top-title{
  background:rgba(0,0,0,.85);
  color:#fff;
  padding:14px;
  border-radius:14px;
  margin:12px;
  text-align:center;
}

.player{
  max-width:720px;
  margin:12px auto;
  background:#000;
  border-radius:14px;
  overflow:hidden;
}

.player video{
  width:100%;
  aspect-ratio:16/9;
  object-fit:contain;
  background:#000;
}

.controls{
  display:flex;
  gap:10px;
  margin:12px;
}

.btn{
  flex:1;
  padding:12px;
  border:none;
  border-radius:12px;
  background:#1e1e1e;
  color:#fff;
  cursor:pointer;
}

.btn:hover{
  background:#ff4d4d;
}
</style>
</head>

<!-- üî• ‡∏à‡∏∏‡∏î‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç -->
<body
  data-anime="Kusuriya no Hitorigoto"
  data-ep="1"
  data-total="24"
>

<div class="title">
  Kusuriya no Hitorigoto ‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1
</div>

<div class="top-title">
  ‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏ï‡∏≠‡∏ô ‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1‚Äì24
</div>

<div class="player">
  <video id="videoPlayer" controls playsinline>
    <source src="https://files.akuma-player.xyz/view/59405c86-b886-532e-8b8c-e25d2d17a812" type="video/mp4">
  </video>
</div>

<div class="controls">
  <button class="btn" onclick="prevEp()">‚¨Ö ‡∏ï‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤</button>
  <button class="btn" onclick="nextEp()">‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚û°</button>
</div>

<script>
/* ===== ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ï‡∏≠‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ===== */
const animeName = document.body.dataset.anime;
const epNumber  = Number(document.body.dataset.ep);
const totalEp   = Number(document.body.dataset.total);

let db = JSON.parse(localStorage.getItem("animeDB")) || {};

if(!db[animeName]){
  db[animeName] = {
    total: totalEp,
    done: []
  };
}

if(!db[animeName].done.includes(epNumber)){
  db[animeName].done.push(epNumber);
}

localStorage.setItem("animeDB", JSON.stringify(db));

/* ===== ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏≠‡∏ô ===== */
function prevEp(){
  if(epNumber <= 1) return alert("‡∏ï‡∏≠‡∏ô‡πÅ‡∏£‡∏Å‡πÅ‡∏•‡πâ‡∏ß");
  location.href = `?ep=${epNumber-1}`;
}

function nextEp(){
  location.href = `?ep=${epNumber+1}`;
}
</script>

</body>
</html>