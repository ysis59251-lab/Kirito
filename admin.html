<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AnimeFume Admin</title>
<style>

.go-btn{
  margin-bottom:15px;
  padding:8px 14px;
  background:#00ffcc;
  border:none;
  border-radius:6px;
  font-weight:bold;
  cursor:pointer;
}

.go-btn:hover{
  background:#00ccaa;
}

.admin-box{
  background:#0f0f0f;
  border:1px solid #222;
  border-radius:14px;
  padding:18px;
  width:320px;
  color:#eaeaea;
  font-family:system-ui, sans-serif;
  box-shadow:0 10px 30px rgba(0,0,0,.6);
}

.admin-title{
  font-size:16px;
  font-weight:600;
  margin-bottom:16px;
  letter-spacing:.5px;
  color:#7cffc4;
}

.stat{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:10px 0;
  border-bottom:1px solid #1f1f1f;
}

.stat:last-child{
  border-bottom:none;
}

.label{
  font-size:13px;
  color:#aaa;
}

.value{
  font-size:20px;
  font-weight:600;
  color:#fff;
}

.value.small{
  font-size:13px;
  color:#ccc;
  font-family:monospace;
}

/* ===== RESET ===== */
* { box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
body { margin:0; min-height:100vh; background:#1a1a1a; color:#fff; padding:20px; }

/* ===== HEADINGS ===== */
h1,h3 { margin-bottom:12px; text-align:center; }
h1 { color:#ff4d4d; }
h3 { color:#ffd24d; }

/* ===== INPUTS & BUTTONS ===== */
input, select, button {
  padding:10px 12px;
  margin:6px 0;
  width:100%;
  border-radius:8px;
  border:none;
  font-size:1rem;
}
input, select { background:#222; color:#fff; }
button { background:#ff4d4d; color:#fff; cursor:pointer; transition:.2s; font-weight:600; }
button:hover { background:#ff1a1a; }

/* ===== CARD ===== */
.card{
  background: linear-gradient(135deg,#222,#333);
  padding:12px 16px;
  border-radius:12px;
  margin:10px 0;
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:0 6px 12px rgba(0,0,0,0.5);
}
.card button{
  padding:6px 14px;
  background:#ff4d4d;
  border:none;
  border-radius:8px;
  color:#fff;
  cursor:pointer;
  font-weight:600;
  transition:.2s;
}
.card button:hover{ background:#ff1a1a; }

/* ===== CONTAINER ===== */
.container{
  max-width:500px;
  margin:auto;
}

/* ===== PREVIEW BOX ===== */
.preview{
  margin:10px 0;
  background:#222;
  padding:10px;
  border-radius:12px;
  display:flex;
  align-items:center;
  gap:10px;
}
.preview img{
  width:60px;
  height:80px;
  object-fit:cover;
  border-radius:6px;
  border:1px solid #444;
}
.preview span{ font-size:0.95rem; }

@media(max-width:500px){
  .card{ flex-direction:column; align-items:flex-start; gap:6px; }
}
</style>
</head>
<body>

<div class="container">
<h1>‡πÄ‡πÄ‡∏≠‡∏î‡∏°‡∏¥‡∏ô AnimeFume</h1>
‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
<h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á / ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà</h3>
<select id="animeSelect">
  <option value="">-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà --</option>
</select>
<input id="animeNew" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà (‡∏Å‡∏£‡∏≠‡∏Å‡∏ñ‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà)">
<input id="ep" type="number" placeholder="‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà">
<input id="video" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠">
<input id="poster" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÇ‡∏õ‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå">
<button onclick="addEpisode()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏≠‡∏ô</button>

<h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ</h3>
<div id="episodeList"></div>

<button onclick="saveJSON()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ü‡∏•‡πå JSON</button>
</div>

<button class="go-btn" onclick="goToSite()">
  üåê ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏´‡∏•‡∏±‡∏Å
</button>

<div class="admin-box">
  <div class="admin-title">Visitor Monitor</div>

  <div class="stat">
    <span class="label">Total Visits</span>
    <span class="value">128</span>
  </div>

  <div class="stat">
    <span class="label">Unique Devices</span>
    <span class="value">42</span>
  </div>

  <div class="stat">
    <span class="label">Current Device</span>
    <span class="value small">DEV-A9X3F2</span>
  </div>

  <div class="stat">
    <span class="label">Last Access</span>
    <span class="value small">2026-01-16 18:45</span>
  </div>
</div>

<script>

function goToSite(){
  window.location.href = "‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ô.html";
}

let data = { animeTitle:"", episodes:[] };

// ‡πÇ‡∏´‡∏•‡∏î JSON ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
fetch("episodes.json")
  .then(res=>res.json())
  .then(json=>{
    data=json;
    populateAnimeSelect();
    renderList();
  })
  .catch(()=>console.log("‡πÑ‡∏°‡πà‡∏°‡∏µ JSON ‡πÄ‡∏î‡∏¥‡∏°"));

// dropdown
function populateAnimeSelect(){
  const select=document.getElementById("animeSelect");
  if(!data.animeTitle) return;
  const option=document.createElement("option");
  option.value=data.animeTitle;
  option.textContent=data.animeTitle;
  select.appendChild(option);
  select.value=data.animeTitle;
}

// ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏≠‡∏ô
function addEpisode(){
  const select=document.getElementById("animeSelect");
  const animeNew=document.getElementById("animeNew").value.trim();
  const ep=parseInt(document.getElementById("ep").value);
  const video=document.getElementById("video").value.trim();
  const poster=document.getElementById("poster").value.trim();

  if(animeNew) data.animeTitle=animeNew;
  else if(select.value) data.animeTitle=select.value;
  else { alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á"); return; }

  if(!ep||!video){ alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏ï‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠"); return; }

  if(data.episodes.some(e=>e.ep===ep)){ alert("‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß"); return; }

  data.episodes.push({ep,video,poster});
  renderList();
}

// ‡∏•‡∏ö‡∏ï‡∏≠‡∏ô
function deleteEpisode(ep){
  if(!confirm("‡∏•‡∏ö‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà "+ep+" ‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°?")) return;
  data.episodes=data.episodes.filter(e=>e.ep!==ep);
  renderList();
}

// ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ô + preview
function renderList(){
  const box=document.getElementById("episodeList");
  box.innerHTML="";
  data.episodes.sort((a,b)=>a.ep-b.ep).forEach(e=>{
    const div=document.createElement("div");
    div.className="card";

    const preview=document.createElement("div");
    preview.className="preview";
    const img=document.createElement("img");
    img.src=e.poster||"https://via.placeholder.com/60x80";
    const span=document.createElement("span");
    span.textContent="EP "+e.ep+" - "+e.video;
    preview.appendChild(img);
    preview.appendChild(span);

    const btn=document.createElement("button");
    btn.textContent="‡∏•‡∏ö";
    btn.onclick=()=>deleteEpisode(e.ep);

    div.appendChild(preview);
    div.appendChild(btn);
    box.appendChild(div);
  });
}

// ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å JSON
function saveJSON(){
  const blob=new Blob([JSON.stringify(data,null,2)],{type:"application/json"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="episodes.json";
  a.click();
}

</script>
</body>
</html>